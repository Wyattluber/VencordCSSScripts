/* ======= Nicht-im-VC Zustand: ultra-kompakter Footer ======= */
/* Ziel: rechts andocken, nur Avatar + Mic sichtbar, Rest auf Hover */

:root{
  --scf-collapsed-w: 86px;        /* Breite im Collapsed-Zustand (Avatar + Mic) */
  --scf-expanded-max: 420px;      /* max Breite beim Aufklappen */
}

/* Account-Zeile erkennen (die mit Avatar) */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]){
  /* rechts andocken & schrumpfen */
  max-width: var(--scf-collapsed-w) !important;
  margin-left: auto !important;
  overflow: hidden !important;
  transition: max-width .18s ease, background .18s ease;
  background: var(--scf-bg-compact, rgba(0,0,0,.35)) !important;
}

/* Name standardmäßig komplett verstecken */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]) [class*="nameTag"],
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]) [class*="subtext"]{
  opacity: 0; max-width: 0; overflow: hidden; white-space: nowrap;
  transition: opacity .15s ease, max-width .15s ease;
}

/* Buttons: nur den ERSTEN (Mic/Mute) sichtbar lassen, Rest verstecken */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]) [class*="button"]{
  width: var(--scf-h) !important; height: var(--scf-h) !important;
  padding: 0 !important; border-radius: 8px !important;
}
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]) [class*="button"]:not(:first-of-type){
  display: none !important;
}

/* Hover/Fokus: voll ausklappen + Texte/Buttons einblenden */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]):is(:hover, :focus-within){
  max-width: var(--scf-expanded-max) !important;
  background: var(--scf-bg-hover, rgba(88,101,242,.22)) !important;
}
/* Texte zeigen */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]):is(:hover, :focus-within) [class*="nameTag"],
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]):is(:hover, :focus-within) [class*="subtext"]{
  opacity: 1; max-width: 220px;
}
/* weitere Buttons wieder anzeigen */
[class*="panels_"] [class*="container"]:has([class*="avatarWrapper"]):is(:hover, :focus-within) [class*="button"]{
  display: grid !important; place-items: center;
}

/* Optional: in sehr schmalen Sidebars noch straffer werden */
@media (max-width: 1150px){
  :root{ --scf-collapsed-w: 78px; }
}
