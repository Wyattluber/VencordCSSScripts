/* ===== Sorin — Compact Footer & VC Mini (v2) ===== */
:root{
  --sorin-guilds-bar-w: 72px;
  --sorin-footer-h: 44px;
  --sorin-footer-gap: 8px;
  --sorin-footer-radius: 12px;
  --sorin-footer-bg:    color-mix(in oklab, #0b0f17 88%, black 12%);
  --sorin-footer-bg-hov:color-mix(in oklab, #101726 80%, black 20%);
  --sorin-footer-border:color-mix(in oklab, #7c3aed 18%, transparent);
}

/* (A) **Container** auf fixen Bereich rechts neben Guilds setzen + 2 Reihen */
[class^="panels_"]{
  margin-left: var(--sorin-guilds-bar-w) !important;
  width: calc(100% - var(--sorin-guilds-bar-w) - 8px) !important;
  display: grid !important;
  grid-template-rows: var(--sorin-footer-h) var(--sorin-footer-h);
  gap: var(--sorin-footer-gap) !important;
  box-sizing: border-box !important;
}

/* (B) **Alle direkten Kinder** gleich formatieren (gleiche Größe & Look) */
[class^="panels_"] > *{
  height: var(--sorin-footer-h) !important;
  min-height: var(--sorin-footer-h) !important;
  width: 100% !important;                 /* statt calc(...) pro Kind */
  background: var(--sorin-footer-bg) !important;
  border: 1px solid var(--sorin-footer-border) !important;
  border-radius: var(--sorin-footer-radius) !important;
  overflow: hidden !important;
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  padding: 6px 8px !important;
  transition: background .18s ease, box-shadow .18s ease;
}

/* (C) Hover: kein Grow, nur leichtes Highlight */
[class^="panels_"] > *:is(:hover,:focus-within){
  background: var(--sorin-footer-bg-hov) !important;
  box-shadow: 0 6px 18px rgba(0,0,0,.22);
}

/* (D) **VC-Panel** kompakt layouten (Ava | Spacer | Actions) */
[class^="panels_"] [class*="container"]:has([class*="connection"]){
  padding: 6px 8px !important;
}
[class^="panels_"] [class*="connection"]{
  display: grid !important;
  grid-template-columns: 36px 1fr auto;
  align-items: center !important;
  gap: 8px !important;
  height: 100% !important;
}
/* Text im VC ausblenden */
[class^="panels_"] [class*="connection"] [class*="channel"],
[class^="panels_"] [class*="connection"] [class*="subtext"],
[class^="panels_"] [class*="connection"] [class*="activity"],
[class^="panels_"] [class*="connection"] [class*="rtcConnectionStatus"],
[class^="panels_"] [class*="connection"] [class*="container"] > div:has([class*="text_"]){
  display: none !important;
}
/* Actions rechts klein & erst bei Fokus vollständig */
[class^="panels_"] [class*="connection"] [class*="actions"]{
  margin-left: auto !important;
  display: flex !important;
  align-items: center !important;
  gap: 6px !important;
}
[class^="panels_"] [class*="connection"] [class*="actions"] button{
  width: 28px !important;
  height: 28px !important;
  padding: 0 !important;
  border-radius: 8px !important;
}
/* Standard: nur Mic/Deafen/Settings zeigen; Rest bei Fokus */
[class^="panels_"] [class*="connection"] [class*="actions"] button:nth-child(n+4){
  display: none !important;
}
[class^="panels_"] [class*="container"]:has([class*="connection"]:focus-within) [class*="actions"] button{
  display: inline-flex !important;
}

/* (E) **Nicht im VC**: kompakt, nur Ava + 2 Buttons */
[class^="panels_"] > :not(:has([class*="connection"])) [class*="buttonRow"],
[class^="panels_"] > :not(:has([class*="connection"])) [class*="actions"]{
  display: flex !important; gap: 6px !important;
}
[class^="panels_"] > :not(:has([class*="connection"])) [class*="actions"] button:nth-child(n+3){
  display: none !important;
}

/* (F) Avatare klein & rund */
[class^="panels_"] [class*="avatar"],
[class^="panels_"] [class*="avatarWrapper"]{
  width: 28px !important; height: 28px !important; min-width: 28px !important;
  border-radius: 999px !important; overflow: hidden !important;
}
